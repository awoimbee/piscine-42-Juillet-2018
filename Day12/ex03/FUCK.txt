00000000  2f 2a 20 2a 2a 2a 2a 2a  2a 2a 2a 2a 2a 2a 2a 2a  |/* *************|
00000010  2a 2a 2a 2a 2a 2a 2a 2a  2a 2a 2a 2a 2a 2a 2a 2a  |****************|
*
00000040  2a 2a 2a 2a 2a 2a 2a 2a  2a 2a 2a 2a 2a 20 2a 2f  |************* */|
00000050  0a 2f 2a 20 20 20 20 20  20 20 20 20 20 20 20 20  |./*             |
00000060  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000090  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 2a  |               *|
000000a0  2f 0a 2f 2a 20 20 20 20  20 20 20 20 20 20 20 20  |/./*            |
000000b0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
000000d0  20 20 20 20 20 20 20 20  20 20 20 20 3a 3a 3a 20  |            ::: |
000000e0  20 20 20 20 20 3a 3a 3a  3a 3a 3a 3a 3a 20 20 20  |     ::::::::   |
000000f0  2a 2f 0a 2f 2a 20 20 20  6d 61 69 6e 2e 63 20 20  |*/./*   main.c  |
00000100  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000120  20 20 20 20 20 20 20 20  20 20 20 3a 2b 3a 20 20  |           :+:  |
00000130  20 20 20 20 3a 2b 3a 20  20 20 20 3a 2b 3a 20 20  |    :+:    :+:  |
00000140  20 2a 2f 0a 2f 2a 20 20  20 20 20 20 20 20 20 20  | */./*          |
00000150  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000170  20 20 20 20 20 20 20 20  20 20 2b 3a 2b 20 2b 3a  |          +:+ +:|
00000180  2b 20 20 20 20 20 20 20  20 20 2b 3a 2b 20 20 20  |+         +:+   |
00000190  20 20 2a 2f 0a 2f 2a 20  20 20 42 79 3a 20 61 77  |  */./*   By: aw|
000001a0  6f 69 6d 62 65 65 20 3c  6d 61 72 76 69 6e 40 34  |oimbee <marvin@4|
000001b0  32 2e 66 72 3e 20 20 20  20 20 20 20 20 20 20 20  |2.fr>           |
000001c0  20 20 20 20 20 20 20 20  20 2b 23 2b 20 20 2b 3a  |         +#+  +:|
000001d0  2b 20 20 20 20 20 20 20  2b 23 2b 20 20 20 20 20  |+       +#+     |
000001e0  20 20 20 2a 2f 0a 2f 2a  20 20 20 20 20 20 20 20  |   */./*        |
000001f0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000210  20 20 20 20 20 20 20 20  2b 23 2b 23 2b 23 2b 23  |        +#+#+#+#|
00000220  2b 23 2b 20 20 20 2b 23  2b 20 20 20 20 20 20 20  |+#+   +#+       |
00000230  20 20 20 20 2a 2f 0a 2f  2a 20 20 20 43 72 65 61  |    */./*   Crea|
00000240  74 65 64 3a 20 32 30 31  38 2f 30 37 2f 32 32 20  |ted: 2018/07/22 |
00000250  31 38 3a 33 30 3a 34 37  20 62 79 20 61 77 6f 69  |18:30:47 by awoi|
00000260  6d 62 65 65 20 20 20 20  20 20 20 20 20 20 23 2b  |mbee          #+|
00000270  23 20 20 20 20 23 2b 23  20 20 20 20 20 20 20 20  |#    #+#        |
00000280  20 20 20 20 20 2a 2f 0a  2f 2a 20 20 20 55 70 64  |     */./*   Upd|
00000290  61 74 65 64 3a 20 32 30  31 38 2f 30 39 2f 30 34  |ated: 2018/09/04|
000002a0  20 30 31 3a 31 37 3a 34  38 20 62 79 20 61 77 6f  | 01:17:48 by awo|
000002b0  69 6d 62 65 65 20 20 20  20 20 20 20 20 20 23 23  |imbee         ##|
000002c0  23 20 20 20 23 23 23 23  23 23 23 23 2e 66 72 20  |#   ########.fr |
000002d0  20 20 20 20 20 20 2a 2f  0a 2f 2a 20 20 20 20 20  |      */./*     |
000002e0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000320  20 20 20 20 20 20 20 2a  2f 0a 2f 2a 20 2a 2a 2a  |       */./* ***|
00000330  2a 2a 2a 2a 2a 2a 2a 2a  2a 2a 2a 2a 2a 2a 2a 2a  |****************|
*
00000370  2a 2a 2a 2a 2a 2a 2a 20  2a 2f 0a 0a 23 69 6e 63  |******* */..#inc|
00000380  6c 75 64 65 20 22 68 65  61 64 2e 68 22 0a 0a 76  |lude "head.h"..v|
00000390  6f 69 64 09 70 72 69 6e  74 5f 73 74 72 28 63 68  |oid.print_str(ch|
000003a0  61 72 20 2a 73 74 72 29  0a 7b 0a 09 69 6e 74 09  |ar *str).{..int.|
000003b0  09 69 3b 0a 0a 09 69 20  3d 20 30 3b 0a 09 77 68  |.i;...i = 0;..wh|
000003c0  69 6c 65 20 28 73 74 72  5b 69 5d 20 3e 20 30 29  |ile (str[i] > 0)|
000003d0  0a 09 09 2b 2b 69 3b 0a  09 69 66 20 28 69 20 3e  |...++i;..if (i >|
000003e0  20 30 29 0a 09 09 77 72  69 74 65 28 31 2c 20 73  | 0)...write(1, s|
000003f0  74 72 2c 20 69 29 3b 0a  7d 0a 0a 69 6e 74 09 66  |tr, i);.}..int.f|
00000400  74 5f 6f 70 65 6e 28 63  68 61 72 2a 20 66 69 6c  |t_open(char* fil|
00000410  65 6e 61 6d 65 29 0a 7b  0a 09 69 6e 74 09 66 64  |ename).{..int.fd|
00000420  3b 0a 0a 09 66 64 20 3d  20 6f 70 65 6e 28 66 69  |;...fd = open(fi|
00000430  6c 65 6e 61 6d 65 2c 20  4f 5f 52 44 4f 4e 4c 59  |lename, O_RDONLY|
00000440  29 3b 0a 09 69 66 20 28  66 64 20 3d 3d 20 2d 31  |);..if (fd == -1|
00000450  29 0a 09 7b 0a 09 09 77  72 69 74 65 28 32 2c 20  |)..{...write(2, |
00000460  22 66 74 5f 73 74 72 63  61 74 3a 20 22 2c 20 31  |"ft_strcat: ", 1|
00000470  32 29 3b 0a 09 09 69 66  20 28 65 72 72 6e 6f 20  |2);...if (errno |
00000480  3d 3d 20 32 31 20 7c 7c  20 65 72 72 6e 6f 20 3d  |== 21 || errno =|
00000490  3d 20 32 29 0a 09 09 09  70 72 69 6e 74 5f 73 74  |= 2)....print_st|
000004a0  72 28 66 69 6c 65 6e 61  6d 65 29 3b 0a 09 09 69  |r(filename);...i|
000004b0  66 20 28 65 72 72 6e 6f  20 3d 3d 20 32 31 29 0a  |f (errno == 21).|
000004c0  09 09 09 77 72 69 74 65  28 32 2c 20 22 3a 20 49  |...write(2, ": I|
000004d0  73 20 61 20 64 69 72 65  63 74 6f 72 79 5c 6e 22  |s a directory\n"|
000004e0  2c 20 31 35 29 3b 0a 09  09 09 0a 09 09 69 66 20  |, 15);.......if |
000004f0  28 65 72 72 6e 6f 20 3d  3d 20 32 29 0a 09 09 09  |(errno == 2)....|
00000500  77 72 69 74 65 28 32 2c  20 22 3a 20 4e 6f 20 73  |write(2, ": No s|
00000510  75 63 68 20 66 69 6c 65  20 6f 72 20 64 69 72 65  |uch file or dire|
00000520  63 74 6f 72 79 5c 6e 22  2c 20 32 38 29 3b 0a 09  |ctory\n", 28);..|
00000530  7d 0a 09 72 65 74 75 72  6e 20 66 64 3b 0a 7d 0a  |}..return fd;.}.|
00000540  0a 76 6f 69 64 09 70 72  69 6e 74 5f 6e 62 72 5f  |.void.print_nbr_|
00000550  68 65 78 28 69 6e 74 20  6e 62 29 0a 7b 0a 09 63  |hex(int nb).{..c|
00000560  68 61 72 09 63 3b 0a 0a  09 69 6e 74 20 64 69 76  |har.c;...int div|
00000570  69 64 65 72 20 3d 20 30  78 66 66 66 66 66 66 66  |ider = 0xfffffff|
00000580  66 3b 0a 09 77 68 69 6c  65 20 28 64 69 76 69 64  |f;..while (divid|
00000590  65 72 20 21 3d 20 30 29  0a 09 7b 0a 09 09 63 20  |er != 0)..{...c |
000005a0  3d 20 28 6e 62 20 2f 20  64 69 76 69 64 65 72 29  |= (nb / divider)|
000005b0  20 2b 20 34 38 3b 0a 09  09 64 69 76 69 64 65 72  | + 48;...divider|
000005c0  20 2f 3d 20 30 78 66 3b  0a 09 09 6e 62 20 25 3d  | /= 0xf;...nb %=|
000005d0  20 30 78 66 3b 0a 09 09  77 72 69 74 65 20 28 31  | 0xf;...write (1|
000005e0  2c 20 26 63 2c 20 31 29  3b 0a 09 7d 20 0a 7d 0a  |, &c, 1);..} .}.|
000005f0  0a 0a 76 6f 69 64 09 72  65 61 64 5f 66 69 6c 65  |..void.read_file|
00000600  28 63 68 61 72 20 2a 66  69 6c 65 6e 61 6d 65 29  |(char *filename)|
00000610  0a 7b 0a 09 69 6e 74 09  09 66 64 3b 0a 09 63 68  |.{..int..fd;..ch|
00000620  61 72 09 74 61 62 5b 31  30 5d 3b 0a 09 69 6e 74  |ar.tab[10];..int|
00000630  09 09 6f 66 66 73 65 74  3b 0a 0a 09 6f 66 66 73  |..offset;...offs|
00000640  65 74 20 3d 20 30 3b 0a  09 69 66 20 28 28 66 64  |et = 0;..if ((fd|
00000650  20 3d 20 66 74 5f 6f 70  65 6e 28 66 69 6c 65 6e  | = ft_open(filen|
00000660  61 6d 65 29 29 20 3d 3d  20 2d 31 29 0a 09 09 72  |ame)) == -1)...r|
00000670  65 74 75 72 6e 20 3b 0a  09 77 68 69 6c 65 20 28  |eturn ;..while (|
00000680  28 72 65 61 64 28 66 64  2c 20 26 74 61 62 5b 30  |(read(fd, &tab[0|
00000690  5d 2c 20 31 30 29 20 3e  20 30 29 20 26 26 20 28  |], 10) > 0) && (|
000006a0  6f 66 66 73 65 74 20 2b  3d 20 31 30 29 29 0a 09  |offset += 10))..|
000006b0  7b 0a 09 09 70 72 69 6e  74 5f 6e 62 72 5f 68 65  |{...print_nbr_he|
000006c0  78 28 6f 66 66 73 65 74  29 3b 0a 09 09 70 72 69  |x(offset);...pri|
000006d0  6e 74 5f 73 74 72 28 26  74 61 62 5b 30 5d 29 3b  |nt_str(&tab[0]);|
000006e0  0a 09 7d 0a 09 63 6c 6f  73 65 28 66 64 29 3b 0a  |..}..close(fd);.|
000006f0  7d 0a 0a 76 6f 69 64 09  72 65 61 64 5f 73 74 64  |}..void.read_std|
00000700  69 6e 28 76 6f 69 64 29  0a 7b 0a 09 63 68 61 72  |in(void).{..char|
00000710  09 63 3b 0a 0a 09 77 68  69 6c 65 20 28 72 65 61  |.c;...while (rea|
00000720  64 28 53 54 44 49 4e 5f  46 49 4c 45 4e 4f 2c 20  |d(STDIN_FILENO, |
00000730  26 63 2c 20 31 29 20 3e  20 30 29 0a 09 09 77 72  |&c, 1) > 0)...wr|
00000740  69 74 65 28 31 2c 20 26  63 2c 20 31 29 3b 0a 7d  |ite(1, &c, 1);.}|
00000750  0a 0a 69 6e 74 09 09 6d  61 69 6e 28 69 6e 74 20  |..int..main(int |
00000760  61 72 67 63 2c 20 63 68  61 72 20 2a 2a 61 72 67  |argc, char **arg|
00000770  76 29 0a 7b 0a 09 69 6e  74 20 69 3b 0a 0a 09 69  |v).{..int i;...i|
00000780  66 20 28 61 72 67 63 20  3d 3d 20 31 29 0a 09 09  |f (argc == 1)...|
00000790  72 65 61 64 5f 73 74 64  69 6e 28 29 3b 0a 09 69  |read_stdin();..i|
000007a0  20 3d 20 30 3b 09 0a 09  77 68 69 6c 65 20 28 2b  | = 0;...while (+|
000007b0  2b 69 20 3c 20 61 72 67  63 29 20 2f 2f 69 74 73  |+i < argc) //its|
000007c0  20 72 65 61 64 69 6e 67  20 61 72 67 73 20 69 6e  | reading args in|
000007d0  20 74 68 65 20 77 72 6f  6e 67 20 77 61 79 20 21  | the wrong way !|
000007e0  0a 09 7b 0a 09 09 69 66  20 28 61 72 67 76 5b 69  |..{...if (argv[i|
000007f0  5d 5b 30 5d 20 3d 3d 20  27 2d 27 20 26 26 20 61  |][0] == '-' && a|
00000800  72 67 76 5b 69 5d 5b 31  5d 20 3d 3d 20 27 5c 30  |rgv[i][1] == '\0|
00000810  27 29 0a 09 09 09 72 65  61 64 5f 73 74 64 69 6e  |')....read_stdin|
00000820  28 29 3b 0a 09 09 65 6c  73 65 0a 09 09 09 72 65  |();...else....re|
00000830  61 64 5f 66 69 6c 65 28  61 72 67 76 5b 69 5d 29  |ad_file(argv[i])|
00000840  3b 0a 09 7d 0a 09 72 65  74 75 72 6e 20 28 30 29  |;..}..return (0)|
00000850  3b 0a 7d 0a                                       |;.}.|
00000854
